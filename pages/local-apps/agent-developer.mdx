---
title: "Agent Developer Guide"
description: "How to build AI Agents for Local Apps"
---

import { Callout, Tabs, Tab } from 'nextra/components'

# Agent Developer Guide

This guide is for developers building AI Agents that process data from Local Apps.

## How Agents Receive Tasks

When a Local App triggers an agent (via SDK or Supabase event), RealTimeX creates an **External Task**.

1. **Task Created**: RealTimeX receives data from the Local App
2. **Claim (Automatic)**: RealTimeX automatically claims the task before triggering the agent
3. **Agent Triggered**: The agent receives the `raw_data` and `task_uuid`
4. **Processing**: The agent runs its logic
5. **Reporting**: The agent reports the final status (completed/failed) back to RealTimeX

<Callout type="info">
**Important**: Task claiming is handled automatically by RealTimeX before your agent is triggered. You do NOT need to claim tasks yourself.
</Callout>

## Reporting Task Status

Agents can report status using either the **SDK** or the **Webhook API**.

### Option 1: Using the SDK (Recommended)

The SDK provides a simple interface for external agents (Python/Node.js scripts).

<Tabs items={['TypeScript', 'Python']}>
  <Tab>
```typescript
import { RealtimeXSDK } from '@realtimex/sdk';

const sdk = new RealtimeXSDK();

// Mark task as processing (optional)
await sdk.task.start(taskUuid);

// Report success
await sdk.task.complete(taskUuid, { summary: "Done", data: {...} });

// Or report failure
await sdk.task.fail(taskUuid, "Error message");
```
  </Tab>
  <Tab>
```python
from realtimex_sdk import RealtimeXSDK

sdk = RealtimeXSDK()

# Mark task as processing (optional)
await sdk.task.start(task_uuid)

# Report success
await sdk.task.complete(task_uuid, {"summary": "Done", "data": {...}})

# Or report failure
await sdk.task.fail(task_uuid, "Error message")
```
  </Tab>
</Tabs>

---

### Option 2: Using the Webhook API

For environments without SDK support, use the webhook directly.

**Endpoint**: `POST /webhooks/realtimex`

#### Start Processing (Optional)
```json
{ "event": "task-start", "payload": { "task_uuid": "abc-123" } }
```

#### Complete Task
```json
{ 
  "event": "task-complete", 
  "payload": { 
    "task_uuid": "abc-123", 
    "result": { "summary": "Done" } 
  } 
}
```

#### Fail Task
```json
{ 
  "event": "task-fail", 
  "payload": { 
    "task_uuid": "abc-123", 
    "error": "Connection timeout" 
  } 
}
```

## Context Variables

When an agent is triggered, it receives:

| Variable | Description |
|----------|-------------|
| `task_uuid` | Unique identifier for the task |
| `raw_data` | The original event data |
| `table_name` | Source table name |

## Best Practices

1. **Report Status Promptly** - Call `complete` or `fail` as soon as your agent finishes
2. **Meaningful Errors** - Return clear error messages for debugging
3. **Handle Large Data** - Pass URLs instead of massive blobs

## Local Testing

1. Use the **SDK** to trigger a "Manual" event
2. Verify the task appears in the **Calendar**
3. Click **"Run Agent"** to run manually
4. Monitor **Execution Logs** for status updates
